{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="{% static 'css/navbar.css' %}" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
    />
  </head>
  <body>
    <nav class="navbar">
      <div class="name-cu">
        {% if customer and customer.name != "Guest" %}
        <p>Hii, {{ customer.name }}</p>
        {% else %}
        <!-- <p>Welcome, Guest!</p> -->
        {% endif %}
      </div>
      <ul class="nav-list">
        <!-- Logo -->
        <li class="nav-logo">
          <a href="{% url 'homepage' %}"><h2 class="name">Phone Shop</h2></a>
        </li>

        <!-- Search and Features -->
        <li class="feature">
          <div class="search">
            <form action="">
              <input
                type="search"
                placeholder="Search Product..."
                class="search-input"
              />
            </form>
          </div>

          <!-- end  view cart -->
          <div class="cart-login">
            <!-- Cart -->
            <div class="cart_header">
              <div onclick="open_cart()" class="icon_cart">
                <i class="fa-solid fa-cart-shopping"></i>
                <span class="count_item" id="cart-count">0</span>
              </div>
            </div>

            <!-- start cart model -->
            <div class="cart">
              <div class="top_cart">
                <h3>My Cart <span>(0 Items in Cart)</span></h3>
                <span onclick="close_cart()">
                  <i class="fa-solid fa-x"></i>
                </span>
              </div>

              <div class="item_in_cart">
                <div class="item_cart">
                  <img src="img/downloads.png" alt="iPhone 12 Pro Max" />
                  <div class="content">
                    <h4>iPhone 12 Pro Max</h4>
                    <p class="price_cart">$1,099.00</p>
                  </div>
                  <button class="delete_item">
                    <i class="fa-regular fa-trash-can"></i>
                  </button>
                </div>
              </div>

              <div class="bottom_Cart">
                <div class="total">
                  <p>Cart subtotal</p>
                  <p class="price_cart_total">$2,198.00</p>
                </div>

                <div class="button_Cart">
                  <a href="/checkout" class="btn_cart">Proceed to checkout</a>
                  <button class="btn_cart trans_bg">Shop more</button>
                </div>
              </div>
            </div>
            <!-- end cart model -->

            <!-- Login -->

            <div class="loging">
              {% if customer and customer.name != "Guest" %}
              <a href="" class="logoutBtn"
                >Logout <i class="fa-solid fa-right-to-bracket"></i
              ></a>

              {% else %}
              <a href="{% url 'loginpage' %}">
                login <i class="fa-solid fa-right-to-bracket"></i>
              </a>
              {% endif %}
            </div>
          </div>
        </li>
        <!-- Burger Menu -->
        <div class="burger-menu" onclick="toggleHamburgerMenu()">
          <span class="bar"></span>
          <span class="bar"></span>
          <span class="bar"></span>
        </div>
        <!-- Hamburger Menu for Small Screens -->
        <div class="hamburger-menu">
          <ul class="menu-list">
            <li><a href="{% url 'homepage' %}">Home</a></li>
            <li><a href="{% url 'all_phones' %}">All Products</a></li>
            <li class="dropdown">
              <a href="javascript:void(0)" id="dropdown-toggle">
                Brand
                <i id="icon" class="fa-solid fa-caret-down"></i>
              </a>
              <ul class="submenu" id="submenu">
                <li><a href="{% url 'brand_iphone' %}">Apple</a></li>
                <li><a href="{% url 'brand_samsung' %}">Samsung</a></li>
                <li><a href="{% url 'brand_oppo' %}">Oppo</a></li>
                <li><a href="{% url 'brand_vivo' %}">Vivo</a></li>
              </ul>
            </li>
            <li><a href="{% url 'about' %}">About Us</a></li>
            <li id="log">
              {% if customer and customer.name != "Guest" %}
              <a href="" class="logoutBtn">Logout</a>
              {% else %}
              <a href="{% url 'loginpage' %}">Login</a>
              {% endif %}
            </li>
          </ul>
        </div>

        <!-- Navigation Links -->
      </ul>
      <div class="nav-menu">
        <ul class="menu-list">
          <li><a href="{% url 'homepage' %}">Home</a></li>
          <li><a href="{% url 'all_phones' %}">All Products</a></li>
          <li class="dropdown">
            <a href="javascript:void(0)"
              >Brand
              <i class="fa-solid fa-caret-down" style="margin-left: 5px"></i>
            </a>

            <ul class="submenu">
              <li><a href="{% url 'brand_iphone' %}">Apple</a></li>
              <li>
                <a href="{% url 'brand_samsung' %}">Samsung</a>
              </li>
              <li><a href="{% url 'brand_oppo' %}">Oppo</a></li>
              <li>
                <a href="{% url 'brand_vivo' %}">Vivo</a>
              </li>
            </ul>
          </li>
          <li><a href="{% url 'about' %}">About Us</a></li>
        </ul>
      </div>
    </nav>
    <script src="{% static 'js/navbar.js' %}"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script>
      document.querySelectorAll(".logoutBtn").forEach((btnLogout) => {
        btnLogout.addEventListener("click", function (event) {
          event.preventDefault();
          Swal.fire({
            title: "Are you sure bro?",
            text: "You want to logout?",
            icon: "warning",
            showCancelButton: true,
            confirmButtonColor: "#d33",
            cancelButtonColor: "#3085d6",
            confirmButtonText: "Yes, Logout!",
          }).then((result) => {
            if (result.isConfirmed) {
              Swal.fire({
                title: "Notification!",
                text: "You have successfully logged out!ðŸ¤¡ðŸ’©",
                icon: "success",
                timer: 2000,
                showConfirmButton: false,
              }).then(() => {
                window.location.href = "{% url 'logout' %}";
              });
            }
          });
        });
      });
    </script>
  </body>
</html>
